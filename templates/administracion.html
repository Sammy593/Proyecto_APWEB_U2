<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content="sistema" />
    <title>Administracion</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Main CSS-->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{url_for('static', filename='src_admin/css/main.css')}}"
    />
    <!-- Font-icon css-->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body class="app sidebar-mini">
    <!-- Navbar-->
    <header class="app-header">
      <a class="app-header__logo" href="index.html">PickOut</a>
      <!-- Sidebar toggle button--><a
        class="app-sidebar__toggle"
        href="#"
        data-toggle="sidebar"
        aria-label="Hide Sidebar"
      ></a>
      <!-- Navbar Right Menu-->
      <ul class="app-nav">
        <!-- User Menu-->
        <li class="dropdown">
          <a
            class="app-nav__item"
            href="#"
            data-toggle="dropdown"
            aria-label="Open Profile Menu"
            ><i class="fa fa-user fa-lg"></i
          ></a>
          <ul class="dropdown-menu settings-menu dropdown-menu-right">
            <li>
              <a class="dropdown-item" href="page-user.html"
                ><i class="fa fa-cog fa-lg"></i> Configuracion</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="page-user.html"
                ><i class="fa fa-user fa-lg"></i> Perifl</a
              >
            </li>
            <li>
              <a class="dropdown-item" href="{{url_for('logout')}}"
                ><i class="fa fa-sign-out fa-lg"></i> Cerrar sesion</a
              >
            </li>
          </ul>
        </li>
      </ul>
    </header>
    <!-- Sidebar menu-->
    <div class="app-sidebar__overlay" data-toggle="sidebar"></div>
    <aside class="app-sidebar">
      <div class="app-sidebar__user">
        <img
          class="app-sidebar__user-avatar"
          src="https://s3.amazonaws.com/uifaces/faces/twitter/jsa/48.jpg"
          alt="User Image"
        />
        <div>
          <p class="app-sidebar__user-name">{{ current_user.get_name()}}</p>
          <p class="app-sidebar__user-designation">
            {{ current_user.get_user()}}
          </p>
        </div>
      </div>
      {% if current_user.is_authenticated%}
      <ul class="app-menu">
        <li>
          <a class="app-menu__item" href="#"
            ><i class="app-menu__icon fa fa-dashboard"></i
            ><span class="app-menu__label">Informacion</span></a
          >
        </li>
        {% if '10' in permisos or '11' in permisos or '12' in permisos or '13' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-laptop"></i
            ><span class="app-menu__label">Gestion de sistema</span
            ><i class="treeview fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '10' in permisos%}
            <li>
              <a class="treeview-item" href="" rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Ver roles</a
              >
            </li>
            {% endif %} 
            {% if '11' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="{{url_for('ver_adm')}}"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Agregar rol</a
              >
            </li>
            {% endif %} 
            {% if '12' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="{{url_for('ver_adm')}}"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Ver permisos</a
              >
            </li>
            {% endif %} 
            {% if '13' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="{{url_for('ver_adm')}}"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Agregar/quitar permisos</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '14' in permisos or '15' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-laptop"></i
            ><span class="app-menu__label">Cursos</span
            ><i class="treeview fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '14' in permisos%}
            <li>
              <a class="treeview-item" href="{{url_for('agregar_adm')}}"
                ><i class="icon fa fa-circle-o"></i> Ver cursos
                (maestro/a)</a
              >
            </li>
            {% endif %} 
            {% if '15' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="{{url_for('ver_adm')}}"
                target="_blank"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Agregar/quitar cursos</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '1' in permisos or '2' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-laptop"></i
            ><span class="app-menu__label">Usuarios</span
            ><i class="treeview fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '1' in permisos%}
            <li>
              <a class="treeview-item" href="{{url_for('agregar_adm')}}"
                ><i class="icon fa fa-circle-o"></i> Agregar usuario
                (maestro/a)</a
              >
            </li>
            {% endif %} 
            {% if '2' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="/administracion/ver_adm"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Ver maestros</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '3' in permisos or '4' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-laptop"></i
            ><span class="app-menu__label">Administrar estudiantes</span
            ><i class="treeview fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '3' in permisos%}
            <li>
              <a class="treeview-item" href="{{url_for('adm_agregar_estudiante')}}"
                ><i class="icon fa fa-circle-o"></i> Agregar estudiante</a
              >
            </li>
            {% endif %} 
            {% if '4' in permisos%}
            <li>
              <a
                class="treeview-item"
                href="{{url_for('ver_estudiantes')}}"
                rel="noopener"
                ><i class="icon fa fa-circle-o"></i> Ver estudiantes</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '5' in permisos or '6' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-edit"></i
            ><span class="app-menu__label">Administrar materias</span
            ><i class="treeview-indicator fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '5' in permisos%}
            <li>
              <a class="treeview-item" href="form-components.html"
                ><i class="icon fa fa-circle-o"></i> Agregar materia
              </a>
            </li>
            {% endif %} 
            {% if '6' in permisos%}
            <li>
              <a class="treeview-item" href="form-custom.html"
                ><i class="icon fa fa-circle-o"></i> Ver materias</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '7' in permisos or '8' in permisos%}
        <li class="treeview">
          <a class="app-menu__item" href="#" data-toggle="treeview"
            ><i class="app-menu__icon fa fa-file-text"></i
            ><span class="app-menu__label">Adminsitrar actividades</span
            ><i class="treeview-indicator fa fa-angle-right"></i
          ></a>
          <ul class="treeview-menu">
            {% if '7' in permisos%}
            <li>
              <a class="treeview-item active" href="{{url_for('adm_agregar_act')}}"
                ><i class="icon fa fa-circle-o"></i> Agregar actividad</a
              >
            </li>
            {% endif %} 
            {% if '8' in permisos%}
            <li>
              <a class="treeview-item" href="{{url_for('ver_actividades')}}"
                ><i class="icon fa fa-circle-o"></i> Ver actividades</a
              >
            </li>
            {% endif %}
          </ul>
        </li>
        {% endif %} 
        {% if '9' in permisos%}
        <li>
          <a class="app-menu__item" href="docs.html"
            ><i class="app-menu__icon fa fa-file-code-o"></i
            ><span class="app-menu__label">Reportes</span></a
          >
        </li>
        {% endif %}
      </ul>

      {% endif %}
    </aside>

    <!-- Main -->
    <main class="app-content">
      <div class="app-title">
        <div>
          <h1><i class="fa fa-dashboard"></i> Administracion</h1>
          <p>Sistema de administracion para PickOut</p>
        </div>
        <ul class="app-breadcrumb breadcrumb">
          <li class="breadcrumb-item"><i class="fa fa-home fa-lg"></i></li>
          {% if current_user.is_admin() %}
             <li class="breadcrumb-item"><a href="#">Todos los paralelos</a></li> 
          {% else %}
            {% for paralelo in paralelos %}     
              {% if paralelo['maestro_id'] == current_user.get_id() %}
                <li class="breadcrumb-item"><a href="#">Paralelo: {{paralelo['nombre_paralelo']}}</a></li>
              {%endif%}
            {%endfor%}
          {%endif%}
        </ul>
      </div>
      <div class="row">
        <div class="col-md-12">
          <div class="tile">
            <!--<div class="tile-body">Datos aqui</div>-->
            {% block ver_adm %} 
            {% endblock %}
            <!-- Ver estudiantes -->
            {% block ver_est %} 
            {% endblock %}
            <!-- Editar alumnos -->
            {% block edit_alum %}
            {% endblock %}
            <!-- Agregar alumno -->
            {% block add_alum %}
            {% endblock %}

            <!--Ver actividades-->
            {% block ver_act %}
            {% endblock %}
            <!--Agregar actividad-->
            {% block add_act %}
            {% endblock %}

            <!-- Ver notas -->
            {% block ver_notas %}
            {% endblock %}
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <!-- Essential javascripts for application to work-->
    <script src="{{url_for('static', filename='src_admin/js/jquery-3.3.1.min.js')}}"></script>
    <script src="{{url_for('static', filename='src_admin/js/popper.min.js')}}"></script>
    <script src="{{url_for('static', filename='src_admin/js/bootstrap.min.js')}}"></script>
    <script type="text/javascript">
      (function () {
        "use strict";

        var treeviewMenu = $(".app-menu");

        // Toggle Sidebar
        $('[data-toggle="sidebar"]').click(function (event) {
          event.preventDefault();
          $(".app").toggleClass("sidenav-toggled");
        });

        // Activate sidebar treeview toggle
        $("[data-toggle='treeview']").click(function (event) {
          event.preventDefault();
          if (!$(this).parent().hasClass("is-expanded")) {
            treeviewMenu
              .find("[data-toggle='treeview']")
              .parent()
              .removeClass("is-expanded");
          }
          $(this).parent().toggleClass("is-expanded");
        });

        // Set initial active toggle
        $("[data-toggle='treeview.'].is-expanded")
          .parent()
          .toggleClass("is-expanded");

        //Activate bootstrip tooltips
        $("[data-toggle='tooltip']").tooltip();
      })();
    </script>
    <!-- The javascript plugin to display page loading on top-->
    <script src="{{url_for('static', filename='src_admin/js/plugins/pace.min.js')}}"></script>
  </body>
</html>
